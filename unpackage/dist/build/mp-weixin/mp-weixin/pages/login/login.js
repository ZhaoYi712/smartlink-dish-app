(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"05a4":function(e,n,t){"use strict";t.r(n);var o=t("564d"),r=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=r.a},"27a2":function(e,n,t){"use strict";t.r(n);var o=t("4f89"),r=t("05a4");for(var i in r)"default"!==i&&function(e){t.d(n,e,(function(){return r[e]}))}(i);t("3494");var c,a=t("f0c5"),s=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,"250b3973",null,!1,o["a"],c);n["default"]=s.exports},3494:function(e,n,t){"use strict";var o=t("b933"),r=t.n(o);r.a},"4f89":function(e,n,t){"use strict";var o,r=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.showPop=!0},e.e1=function(n){e.showPop=!1})},i=[];t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}))},"564d":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("2f62");function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a={data:function(){return{logining:!1,showPop:!1,secretPassword:"dev"==this.$config.env?"3191794968":""}},computed:i({},(0,o.mapState)(["appProperties"])),onLoad:function(){this.handlerLocalToken(),this.handlerOpenidLogin()},methods:{handlerLocalToken:function(){var n=e.getStorageSync("token");if(e.removeStorageSync("token"),n){var t=this;t.$store.commit("setToken",n),t.$request("/user/info","get").then((function(n){console.log("[通过token登录]"),t.$store.commit("login",n.data),t.$store.commit("setToken",n.data.token),e.reLaunch({url:"/pages/mine/mine"})}))}},weiXinLogin:function(n){var t=this;t.logining=!0;var o=n.detail,r=o.errMsg;o.userInfo;if("getUserInfo:ok"===r){var i=n.detail.userInfo;console.log("微信用户："+JSON.stringify(i)),e.login({provider:"weixin",success:function(n){t.logining=!1,console.log("微信登录 获取到的code=",n.code),t.$request("/user/login/weixin","post",{code:n.code,wxAvatar:i.avatarUrl}).then((function(n){n.data.wxAvatar=i.avatarUrl,t.$store.commit("login",n.data),e.reLaunch({url:"/pages/mine/mine"})}))}})}else e.showModal({title:"提示",content:"您取消了授权登录，请重新授权",showCancel:!1})},handlerOpenidLogin:function(){var n=this,t=window.location.href;if(!(t.indexOf("openid")<0)){var o=t.substr(t.indexOf("openid=")+7,28);n.$request("/user/login/openid/"+o,"post").then((function(t){n.$store.commit("login",t.data),e.reLaunch({url:"/pages/mine/mine"})}))}},confirmPop:function(){console.log("点击了确定"),this.showPop=!1},cancelPop:function(){console.log("点击了取消"),this.showPop=!1},loginForTest:function(){var n=this;"123"==this.secretPassword?(console.log("测试号登录"),n.$request("/user/login/dev?secretPassword="+this.secretPassword,"post").then((function(t){n.$store.commit("login",t.data),e.reLaunch({url:"/pages/mine/mine"})}))):this.$msg("密码错误")}}};n.default=a}).call(this,t("543d")["default"])},"99e7":function(e,n,t){"use strict";(function(e){t("10b9");o(t("66fd"));var n=o(t("27a2"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},b933:function(e,n,t){}},[["99e7","common/runtime","common/vendor"]]]);